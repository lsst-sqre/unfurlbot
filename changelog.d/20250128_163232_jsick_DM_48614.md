<!-- Delete the sections that don't apply -->

### Backwards-incompatible changes

-

### New features

- Unfurlbot now ignores trigger messages if they are older than `UNFURLBOT_SLACK_TRIGGER_MESSAGE_TTL` (a time in seconds). This prevents unfurling messages that are no longer relevant and mitigates circumstances where Unfurlbot may be processing old messages.

### Bug fixes

-

### Other changes

- Refactored the `DomainUnfurler` base class so that the `process_slack` method now calls two hooks that subclasses need to implement: `extract_tokens` and `create_slack_message`. With this structure the pipeline for processing Slack messages is more consistent and easier to implement for new unfurling domains.

- Improved logging. All log messages for a given token include context about the token, token type (e.g. `jira`), the channel ID, and the timestamps of the triggering message and thread (if applicable). Log messages are sent for `Sent unfurl` events, and warnings are logged for `Ignoring stale trigger message` events.
